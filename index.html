<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bloomberg Terminal Shortcuts for Fixed Income</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            text-align: left;
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: black;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            bottom: 100%;
            left: 50%;
            margin-left: -60px;
            transition: background-color 0.3s ease;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
        }
        .tooltip.copied .tooltiptext {
            background-color: #4CAF50; /* Green */
            visibility: visible;
        }
        .language-selector {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="language-selector">
        <label for="language">Choose a language:</label>
        <select id="language" name="language">
            <option value="en">English</option>
            <option value="it">Italiano</option>
            <option value="ro">Română</option>
            <option value="es">Español</option>
        </select>
    </div>
    <h1 id="title">Bloomberg Terminal Shortcuts for Fixed Income</h1>
    <table>
        <thead>
            <tr>
                <th id="th-command">Command</th>
                <th id="th-function">Function</th>
            </tr>
        </thead>
        <tbody id="table-body">
            <!-- Table rows will be inserted here dynamically -->
        </tbody>
    </table>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const tooltips = document.querySelectorAll('.tooltip');
            tooltips.forEach(function (tooltip) {
                tooltip.addEventListener('click', function () {
                    const commandText = this.querySelector('code').innerText;
                    const tooltipText = this.querySelector('.tooltiptext');
                    navigator.clipboard.writeText(commandText).then(() => {
                        console.log('Command copied to clipboard');
                        tooltipText.textContent = 'Copied!';
                        tooltip.classList.add('copied');
                        setTimeout(() => {
                            tooltipText.textContent = 'Click to copy';
                            tooltip.classList.remove('copied');
                        }, 2000); // Revert after 2 seconds
                    }, (err) => {
                        console.error('Could not copy text: ', err);
                    });
                });
            });

            // Language selection handling
            const languageSelect = document.getElementById('language');
            languageSelect.addEventListener('change', updateLanguage);

            const languageData = {
                en: {
                    title: "Bloomberg Terminal Shortcuts for Fixed Income",
                    columns: ["Command", "Function"],
                    rows: [
                        ["ALLQ", "All quotes per instrument (TNP / FMPF)"],
                        ["GDCO345", "Bonds via FMPF broker code AXEM"],
                        ["BXT/SXT", "Voice Buy Ticket / Voice Sell Ticket (VCON); Also possible to compare price/yield calculations"],
                        ["BBTI", "IRS"],
                        ["FAXT BETA", "Switch to BETA environment"],
                        ["IAMX", "Info about yourself (e.g., UUID)"],
                        ["TSOX", "Ticket staging area"],
                        ["FIT", "Fixed Income trading: can do switch trading from this page"],
                        ["DFIT", "Documentation / Specs download"],
                        ["DES", "Description"],
                        ["VCAD", "Custom field configuration"]
                    ]
                },
                it: {
                    title: "Scorciatoie di Bloomberg Terminal per il reddito fisso",
                    columns: ["Comando", "Funzione"],
                    rows: [
                        ["ALLQ", "Tutte le quotazioni per strumento (TNP / FMPF)"],
                        ["GDCO345", "Obbligazioni tramite codice broker FMPF AXEM"],
                        ["BXT/SXT", "Biglietto d'acquisto voce / Biglietto di vendita voce (VCON); È anche possibile confrontare i calcoli di prezzo/rendimento"],
                        ["BBTI", "IRS"],
                        ["FAXT BETA", "Passa all'ambiente BETA"],
                        ["IAMX", "Informazioni su di te (es. UUID)"],
                        ["TSOX", "Area di staging del ticket"],
                        ["FIT", "Trading di reddito fisso: è possibile effettuare trading di scambio da questa pagina"],
                        ["DFIT", "Download della documentazione / Specifiche"],
                        ["DES", "Descrizione"],
                        ["VCAD", "Configurazione di campi personalizzati"]
                    ]
                },
                ro: {
                    title: "Scurtături Bloomberg Terminal pentru venituri fixe",
                    columns: ["Comandă", "Funcție"],
                    rows: [
                        ["ALLQ", "Toate cotațiile pe instrument (TNP / FMPF)"],
                        ["GDCO345", "Obligațiuni prin codul broker FMPF AXEM"],
                        ["BXT/SXT", "Tichet de cumpărare vocală / Tichet de vânzare vocală (VCON); De asemenea, este posibil să comparați calculele de preț/randament"],
                        ["BBTI", "IRS"],
                        ["FAXT BETA", "Schimbă la mediul BETA"],
                        ["IAMX", "Informații despre tine (de exemplu, UUID)"],
                        ["TSOX", "Zona de pregătire a tichetelor"],
                        ["FIT", "Tranzacționare venituri fixe: se poate face tranzacționare prin schimb de pe această pagină"],
                        ["DFIT", "Descărcare documentație / Specificații"],
                        ["DES", "Descriere"],
                        ["VCAD", "Configurare câmp personalizat"]
                    ]
                },
                es: {
                    title: "Atajos de Bloomberg Terminal para Renta Fija",
                    columns: ["Comando", "Función"],
                    rows: [
                        ["ALLQ", "Todas las cotizaciones por instrumento (TNP / FMPF)"],
                        ["GDCO345", "Bonos a través del código de corredor FMPF AXEM"],
                        ["BXT/SXT", "Ticket de Compra de Voz / Ticket de Venta de Voz (VCON); También es posible comparar cálculos de precio/rendimiento"],
                        ["BBTI", "IRS"],
                        ["FAXT BETA", "Cambiar al entorno BETA"],
                        ["IAMX", "Información sobre ti mismo (por ejemplo, UUID)"],
                        ["TSOX", "Área de preparación de tickets"],
                        ["FIT", "Comercio de renta fija: se puede hacer comercio de intercambio desde esta página"],
                        ["DFIT", "Descarga de documentación / Especificaciones"],
                        ["DES", "Descripción"],
                        ["VCAD", "Configuración de campo personalizado"]
                    ]
                }
            };

            function updateLanguage() {
                const lang = languageSelect.value;
                const data = languageData[lang];

                document.getElementById('title').innerText = data.title;
                document.getElementById('th-command').innerText = data.columns[0];
                document.getElementById('th-function').innerText = data.columns[1];

                const tableBody = document.getElementById('table-body');
                tableBody.innerHTML = ''; // Clear existing table rows

                data.rows.forEach(row => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `<td><div class="tooltip"><code>${row[0]}</code><span class="tooltiptext">Click to copy</span></div></td><td>${row[1]}</td>`;
                    tableBody.appendChild(tr);
                });

                // Re-initialize tooltips since new elements have been added to the DOM
                initializeTooltips();
            }

            function initializeTooltips() {
                const tooltips = document.querySelectorAll('.tooltip');
                tooltips.forEach(function (tooltip) {
                    tooltip.addEventListener('click', function () {
                        const commandText = this.querySelector('code').innerText;
                        const tooltipText = this.querySelector('.tooltiptext');
                        navigator.clipboard.writeText(commandText).then(() => {
                            console.log('Command copied to clipboard');
                            tooltipText.textContent = 'Copied!';
                            tooltip.classList.add('copied');
                            setTimeout(() => {
                                tooltipText.textContent = 'Click to copy';
                                tooltip.classList.remove('copied');
                            }, 2000); // Revert after 2 seconds
                        }, (err) => {
                            console.error('Could not copy text: ', err);
                        });
                    });
                });
            }

            // Initialize the page with the default language
            updateLanguage();
        });
    </script>
</body>
</html>
